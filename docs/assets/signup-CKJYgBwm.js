import{_ as A}from"./AppTextField-DBUgbd97.js";import{r as n,k as B,a as N,c as R,o as g,d,b as s,n as a,G as S,e as t,f as w,m as y,t as v,v as b,a3 as U,$ as F,F as T,a0 as $}from"./index-Cs56v0At.js";import{V as j}from"./VNodeRenderer-DRZ_MKLn.js";import{a as m,V as x}from"./VRow-CyomMdQL.js";import{V as L}from"./VCard-DA4IPDsH.js";import{V as _}from"./VCardText-DFV2BJbA.js";import{V as h}from"./VAlert-DdpZmKKI.js";import{V as M}from"./VForm-Dr6CSLn8.js";import"./VTextField-C4XJx2Dz.js";import"./VImg-BZXzfXOW.js";import"./forwardRefs-DWGaNmQL.js";/* empty css              */import"./VAvatar-CilbXriq.js";const E={href:"javascript:void(0)"},I={class:"auth-logo d-flex align-center gap-x-3"},ae={__name:"signup",setup(D){const o=n({email:"",password:"",confirmPassword:""}),p=n(!1),f=n(!1),i=n(!1),l=n(""),c=n(""),k=B(),C=async()=>{if(l.value="",c.value="",o.value.password!==o.value.confirmPassword){l.value="Passwords do not match.";return}if(o.value.password.length<6){l.value="Password must be at least 6 characters long.";return}i.value=!0;try{const{data:u,error:e}=await $.auth.signUp({email:o.value.email,password:o.value.password});if(e){l.value=e.message,i.value=!1;return}u.user&&(u.user.identities&&u.user.identities.length===0?l.value="An account with this email already exists.":(c.value="Account created! Please check your email to verify your account.",setTimeout(()=>{k.push({name:"login"})},3e3)))}catch{l.value="Signup failed. Please try again."}i.value=!1};return(u,e)=>{const V=A,P=N("RouterLink");return g(),R(T,null,[d("a",E,[d("div",I,[s(a(j),{nodes:a(S).app.logo},null,8,["nodes"])])]),s(x,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:t(()=>[s(m,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:t(()=>[s(L,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-6",width:"calc(100% - 48px)"},{default:t(()=>[s(_,null,{default:t(()=>e[5]||(e[5]=[d("h4",{class:"text-h4 mb-1"}," Create Account  ",-1),d("p",{class:"mb-0"}," Start your journey with us ",-1)])),_:1}),s(_,null,{default:t(()=>[a(l)?(g(),w(h,{key:0,type:"error",class:"mb-4",variant:"tonal"},{default:t(()=>[v(b(a(l)),1)]),_:1})):y("",!0),a(c)?(g(),w(h,{key:1,type:"success",class:"mb-4",variant:"tonal"},{default:t(()=>[v(b(a(c)),1)]),_:1})):y("",!0),s(M,{onSubmit:U(C,["prevent"])},{default:t(()=>[s(x,null,{default:t(()=>[s(m,{cols:"12"},{default:t(()=>[s(V,{modelValue:a(o).email,"onUpdate:modelValue":e[0]||(e[0]=r=>a(o).email=r),autofocus:"",label:"Email",type:"email",placeholder:"your@email.com"},null,8,["modelValue"])]),_:1}),s(m,{cols:"12"},{default:t(()=>[s(V,{modelValue:a(o).password,"onUpdate:modelValue":e[1]||(e[1]=r=>a(o).password=r),label:"Password",placeholder:"路路路路路路路路路路路路",type:a(p)?"text":"password","append-inner-icon":a(p)?"tabler-eye-off":"tabler-eye","onClick:appendInner":e[2]||(e[2]=r=>p.value=!a(p))},null,8,["modelValue","type","append-inner-icon"])]),_:1}),s(m,{cols:"12"},{default:t(()=>[s(V,{modelValue:a(o).confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=r=>a(o).confirmPassword=r),label:"Confirm Password",placeholder:"路路路路路路路路路路路路",type:a(f)?"text":"password","append-inner-icon":a(f)?"tabler-eye-off":"tabler-eye","onClick:appendInner":e[4]||(e[4]=r=>f.value=!a(f))},null,8,["modelValue","type","append-inner-icon"]),s(F,{block:"",type:"submit",loading:a(i),disabled:a(i),class:"mt-6"},{default:t(()=>e[6]||(e[6]=[v(" Sign Up ")])),_:1},8,["loading","disabled"])]),_:1}),s(m,{cols:"12",class:"text-center"},{default:t(()=>[e[8]||(e[8]=d("span",null,"Already have an account?",-1)),s(P,{class:"text-primary ms-2",to:{name:"login"}},{default:t(()=>e[7]||(e[7]=[v(" Login here ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{ae as default};
