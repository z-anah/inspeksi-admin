import{_ as h}from"./AppTextField-DBUgbd97.js";import{r as u,k as C,a as F,c as B,o as m,d as r,b as e,n as t,G as P,e as a,f as p,m as g,t as c,v as _,a3 as R,$ as N,Z as E,F as T,a0 as j}from"./index-Cs56v0At.js";import{V as L}from"./VNodeRenderer-DRZ_MKLn.js";import{a as f,V}from"./VRow-CyomMdQL.js";import{V as M}from"./VCard-DA4IPDsH.js";import{V as v}from"./VCardText-DFV2BJbA.js";import{V as y}from"./VAlert-DdpZmKKI.js";import{V as S}from"./VForm-Dr6CSLn8.js";import"./VTextField-C4XJx2Dz.js";import"./VImg-BZXzfXOW.js";import"./forwardRefs-DWGaNmQL.js";/* empty css              */import"./VAvatar-CilbXriq.js";const $={href:"javascript:void(0)"},A={class:"auth-logo d-flex align-center gap-x-3"},Y={__name:"forgot-password",setup(D){const d=u({email:""}),o=u(!1),l=u(""),n=u("");C();const w=async()=>{l.value="",n.value="",o.value=!0;try{const{error:i}=await j.auth.resetPasswordForEmail(d.value.email,{redirectTo:`${window.location.origin}/reset-password`});if(i){l.value=i.message,o.value=!1;return}n.value="Password reset link has been sent to your email. Please check your inbox."}catch{l.value="Failed to send reset email. Please try again."}o.value=!1};return(i,s)=>{const b=h,x=F("RouterLink");return m(),B(T,null,[r("a",$,[r("div",A,[e(t(L),{nodes:t(P).app.logo},null,8,["nodes"])])]),e(V,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:a(()=>[e(f,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:a(()=>[e(M,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-6",width:"calc(100% - 48px)"},{default:a(()=>[e(v,null,{default:a(()=>s[1]||(s[1]=[r("h4",{class:"text-h4 mb-1"}," Forgot Password? ðŸ”’ ",-1),r("p",{class:"mb-0"}," Enter your email and we'll send you instructions to reset your password ",-1)])),_:1}),e(v,null,{default:a(()=>[t(l)?(m(),p(y,{key:0,type:"error",class:"mb-4",variant:"tonal"},{default:a(()=>[c(_(t(l)),1)]),_:1})):g("",!0),t(n)?(m(),p(y,{key:1,type:"success",class:"mb-4",variant:"tonal"},{default:a(()=>[c(_(t(n)),1)]),_:1})):g("",!0),e(S,{onSubmit:R(w,["prevent"])},{default:a(()=>[e(V,null,{default:a(()=>[e(f,{cols:"12"},{default:a(()=>[e(b,{modelValue:t(d).email,"onUpdate:modelValue":s[0]||(s[0]=k=>t(d).email=k),autofocus:"",label:"Email",type:"email",placeholder:"your@email.com"},null,8,["modelValue"]),e(N,{block:"",type:"submit",loading:t(o),disabled:t(o),class:"mt-6"},{default:a(()=>s[2]||(s[2]=[c(" Send Reset Link ")])),_:1},8,["loading","disabled"])]),_:1}),e(f,{cols:"12",class:"d-flex align-center justify-center"},{default:a(()=>[e(x,{class:"text-primary d-flex align-center",to:{name:"login"}},{default:a(()=>[e(E,{icon:"tabler-chevron-left",class:"flip-in-rtl"}),s[3]||(s[3]=r("span",null,"Back to login",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{Y as default};
