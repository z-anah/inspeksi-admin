import{_ as x}from"./AppTextField-DBUgbd97.js";import{r as m,k as y,a as k,c as C,o as V,d as n,b as a,n as s,G as h,e as t,f as N,m as B,t as u,v as F,a3 as P,$ as R,F as L,a0 as j}from"./index-Cs56v0At.js";import{V as T}from"./VNodeRenderer-DRZ_MKLn.js";import{a as p,V as w}from"./VRow-CyomMdQL.js";import{V as $}from"./VCard-DA4IPDsH.js";import{V as v}from"./VCardText-DFV2BJbA.js";import{V as A}from"./VAlert-DdpZmKKI.js";import{V as E}from"./VForm-Dr6CSLn8.js";import"./VTextField-C4XJx2Dz.js";import"./VImg-BZXzfXOW.js";import"./forwardRefs-DWGaNmQL.js";/* empty css              */import"./VAvatar-CilbXriq.js";const I={href:"javascript:void(0)"},M={class:"auth-logo d-flex align-center gap-x-3"},S={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},ee={__name:"login",setup(U){const o=m({email:"",password:"",remember:!1}),i=m(!1),l=m(!1),r=m(""),_=y(),b=async()=>{r.value="",l.value=!0;try{const{data:f,error:e}=await j.auth.signInWithPassword({email:o.value.email,password:o.value.password});if(e){r.value=e.message,l.value=!1;return}f.user&&_.push("/pages")}catch{r.value="Login failed. Please try again."}l.value=!1};return(f,e)=>{const c=x,g=k("RouterLink");return V(),C(L,null,[n("a",I,[n("div",M,[a(s(T),{nodes:s(h).app.logo},null,8,["nodes"])])]),a(w,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:t(()=>[a(p,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:t(()=>[a($,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-6",width:"calc(100% - 48px)"},{default:t(()=>[a(v,null,{default:t(()=>e[3]||(e[3]=[n("h4",{class:"text-h4 mb-1"}," Welcome!  ",-1)])),_:1}),a(v,null,{default:t(()=>[s(r)?(V(),N(A,{key:0,type:"error",class:"mb-4",variant:"tonal"},{default:t(()=>[u(F(s(r)),1)]),_:1})):B("",!0),a(E,{onSubmit:P(b,["prevent"])},{default:t(()=>[a(w,null,{default:t(()=>[a(p,{cols:"12"},{default:t(()=>[a(c,{modelValue:s(o).email,"onUpdate:modelValue":e[0]||(e[0]=d=>s(o).email=d),autofocus:"",label:"Email",type:"email",placeholder:"your@email.com"},null,8,["modelValue"])]),_:1}),a(p,{cols:"12"},{default:t(()=>[a(c,{modelValue:s(o).password,"onUpdate:modelValue":e[1]||(e[1]=d=>s(o).password=d),label:"Password",placeholder:"路路路路路路路路路路路路",type:s(i)?"text":"password",autocomplete:"password","append-inner-icon":s(i)?"tabler-eye-off":"tabler-eye","onClick:appendInner":e[2]||(e[2]=d=>i.value=!s(i))},null,8,["modelValue","type","append-inner-icon"]),n("div",S,[a(g,{to:{name:"forgot-password"},class:"text-primary ms-2"},{default:t(()=>e[4]||(e[4]=[u(" Forgot Password? ")])),_:1})]),a(R,{block:"",type:"submit",loading:s(l),disabled:s(l)},{default:t(()=>e[5]||(e[5]=[u(" Login ")])),_:1},8,["loading","disabled"])]),_:1}),a(p,{cols:"12",class:"text-center"},{default:t(()=>[e[7]||(e[7]=n("span",null,"New here?",-1)),a(g,{class:"text-primary ms-2",to:{name:"signup"}},{default:t(()=>e[6]||(e[6]=[u(" Create an account ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{ee as default};
